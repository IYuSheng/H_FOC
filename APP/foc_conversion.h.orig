#ifndef __FOC_CONVERSION_H
#define __FOC_CONVERSION_H

#include "stm32f4xx.h"
#include "freertos.h"
#include "task.h"
#include "math.h"

// 三相坐标系结构体
typedef struct {
    float a;
    float b;
    float c;
} ABCTypeDef;

// 两相静止坐标系结构体 (Alpha-Beta)
typedef struct {
    float alpha;
    float beta;
} AlphaBetaTypeDef;

// 两相旋转坐标系结构体 (D-Q)
typedef struct {
    float d;
    float q;
} DQTypeDef;

// FOC变换相关函数声明
void clark_transform(ABCTypeDef *abc, AlphaBetaTypeDef *alpha_beta);
void inv_clark_transform(AlphaBetaTypeDef *alpha_beta, ABCTypeDef *abc);
void park_transform(AlphaBetaTypeDef *alpha_beta, DQTypeDef *dq, float angle);
void inv_park_transform(DQTypeDef *dq, AlphaBetaTypeDef *alpha_beta, float angle);

#endif /* __FOC_CONVERSION_H */
